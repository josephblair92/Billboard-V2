<html>
<head>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.5/angular.min.js"></script>
	<script src="js/vendor/ui-bootstrap-tpls-0.14.3.min.js"></script>
	<script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
	<!-- Latest compiled and minified CSS -->
		
</head>
<body>

	<div ng-controller="ReverseLookupController">

		<div style="display:table;">

			<form style="display:block;float:left;margin:10px;" ng-submit="search()">
				<label style="display:block;" for="artist">Artist</label>
				<span style="display:block;">
					<input id="artist" type="text" ng-model="artistInput"/>
					<button type="button" class="btn btn-sm btn-success" ng-click="search()">Search</button>
				</span>
			</form>

			<div style="display:table-cell;vertical-align:middle;margin:20px;" class="btn-group" uib-dropdown uib-keyboard-nav>
		        <button id="simple-btn-keyboard-nav" type="button" class="btn btn-primary" uib-dropdown-toggle>
		            {{ loading === true ? "Loading..." : "Results" }} <span class="caret"></span>
		        </button>
		        <ul class="uib-dropdown-menu" role="menu" aria-labelledby="simple-btn-keyboard-nav">
		        	<li ng-repeat="charted_item in data.charted_items" role="menuitem">
		        		<a ng-click="displayItemData($index)">
		        		{{ charted_item.item_name }} ({{ translateChartTypeToItemType(charted_item.chart_type) }})
		        		</a>
		        	</li>
		        </ul>
		    </div>		

		</div>

	    <hr />

		<div>
			<div>
				<h3 style="margin:10px;">{{ data.artist }} - {{ selectedItemData.item_name }}</h3>
			</div>
			<div>
				<span style="font-size:15px;font-weight:bold;text-transform:capitalize;margin:10px;">{{ translateChartTypeToItemType(selectedItemData.chart_type) }}</span>
				<span style="margin:3px;"><span style="font-style:italic;color:#737373;">Entry</span> {{ selectedItemData.entry_position }}</span>
				<span style="margin:3px;"><span style="font-style:italic;color:#737373;">Peak</span> {{ selectedItemData.peak_position }}</span>
				<span style="margin:3px;"><span style="font-style:italic;color:#737373;">Dropoff</span> {{ selectedItemData.dropoff_position }}</span>
			</div>
		</div>	    

	    <div style="margin:10px;">

		    <div style="float:left;overflow:hidden;">
		    	<div id="reverse-lookup-graph" style="margin:5px;" reverse-lookup-graph chart-data="selectedItemData"></div>
		    </div>

	    	<reverse-lookup-display data="data" selected-item-data="selectedItemData"></reverse-lookup-display>
	   	
		</div>

	</div>

	<!-- Modules -->
	<script src="js/app.js"></script>
	<!-- Controllers -->
	<script src="js/controllers/ReverseLookupController.js"></script>
	<!-- Services -->
	<script src="js/services/ReverseLookupService.js"></script>
	<!-- Directives -->
	<script src="js/directives/reverseLookupDisplay.js"></script>
	<script src="js/directives/reverseLookupGraph.js"></script>

</body>
</html>